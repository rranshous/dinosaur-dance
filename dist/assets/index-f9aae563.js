var x=Object.defineProperty;var L=(d,t,e)=>t in d?x(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var c=(d,t,e)=>(L(d,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();class P{constructor(){c(this,"cursorDinosaur");c(this,"plantedDinosaurs",[]);c(this,"tinyDancerPile",[]);c(this,"isMouseDown",!1);c(this,"lastPlantTime",0);c(this,"brushDelay",100);c(this,"backgroundHue",200);c(this,"emojiSets",{prehistoric:["🦕","🦴","🐊","🐲","🦖","🐉"],reptiles:["🦎","🐍","🐢","🐊","🐸","🦕"],insects:["🦋","🐝","🐞","🦗","🕷️","🦂","🐛","🐜","🦟"],mammals:["🐨","🐼","🦘","🦥","🦦","🦨","🦔","🐿️","🐹","🐭","🐰","🦊"],predators:["🐺","🐻","🐯","🦁","🦈","🐉","🦖"],ocean:["🐙","🦑","🦐","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐚"],magical:["⭐","🌟","✨","💫","🔥","❄️","☄️","🌈","🎪"]});c(this,"currentSet","prehistoric");c(this,"setOrder",["prehistoric","reptiles","insects","mammals","predators","ocean","magical"]);c(this,"setIndex",0);c(this,"plantingsInCurrentSet",0);c(this,"plantingsBeforeSetChange",8);c(this,"dancerCount",0);c(this,"recognition",null);c(this,"isListening",!1);this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.createCursorDinosaur(),this.setupEventListeners(),this.setupVoiceRecognition(),this.updateCounter(),this.evolveBackground()}createCursorDinosaur(){this.cursorDinosaur=document.createElement("div"),this.cursorDinosaur.className="dinosaur cursor-dinosaur",this.cursorDinosaur.textContent=this.getRandomDinosaur(),document.body.appendChild(this.cursorDinosaur)}getRandomDinosaur(){const t=this.emojiSets[this.currentSet];return t[Math.floor(Math.random()*t.length)]}getRandomEvolutionCount(){return Math.floor(Math.random()*7)+6}tryBrushStroke(t,e){Date.now()-this.lastPlantTime>=this.brushDelay&&this.plantDinosaur(t,e)}evolveBackground(){this.dancerCount%10===0&&(this.backgroundHue=(this.backgroundHue+5)%360);const t=25+Math.floor(this.dancerCount/20),e=88-Math.floor(this.dancerCount/30);document.body.style.transition="background 2s ease",document.body.style.background=`linear-gradient(135deg, 
            hsl(${this.backgroundHue}, ${Math.min(t,40)}%, ${Math.max(e,75)}%), 
            hsl(${(this.backgroundHue+25)%360}, ${Math.min(t+8,45)}%, ${Math.max(e+3,78)}%))`}evolveToNextSet(){this.setIndex=(this.setIndex+1)%this.setOrder.length,this.currentSet=this.setOrder[this.setIndex],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.showSetChangeNotification()}showSetChangeNotification(){this.spawnCelebrationCreatures()}findNextPilePosition(){const t=window.innerWidth/2,e=Math.min(800,window.innerWidth*.9),o=window.innerHeight-35;if(this.tinyDancerPile.length===0)return{x:t+(Math.random()-.5)*150,y:o};const n=t+(Math.random()-.5)*e;let i=o,s=0;if(this.tinyDancerPile.forEach(r=>{const a=parseInt(r.style.left),h=parseInt(r.style.top),u=Math.abs(a-n);if(u<35&&(s++,s>=4&&u<18)){const l=h-18;l<i&&(i=l)}}),s<4){let r=n,a=s;for(let h=0;h<8;h++){const u=t+(Math.random()-.5)*e;let l=0;this.tinyDancerPile.forEach(g=>{const p=parseInt(g.style.left);Math.abs(p-u)<35&&l++}),l<a&&(r=u,a=l)}return{x:r,y:o}}return{x:n,y:i}}spawnCelebrationCreatures(){const t=this.emojiSets[this.currentSet],e=8;for(let o=0;o<e;o++)setTimeout(()=>{const n=document.createElement("div");n.className="dinosaur tiny-dancer",n.textContent=t[Math.floor(Math.random()*t.length)];const i=Math.random()*window.innerWidth,s=-50,r=this.findNextPilePosition();n.style.left=i+"px",n.style.top=s+"px",n.style.fontSize="24px",n.style.zIndex="50",n.setAttribute("data-tiny-dancer","true"),document.body.appendChild(n),setTimeout(()=>{n.style.transition="left 2.5s ease-out, top 2.5s ease-in",n.style.left=r.x+"px",n.style.top=r.y+"px"},100),setTimeout(()=>{n.classList.add("pile-dancer"),n.style.transition="none",this.tinyDancerPile.push(n)},2600)},o*300)}showCurrentSetInfo(){this.demonstrateCurrentSet()}demonstrateCurrentSet(){const t=this.emojiSets[this.currentSet],e=Math.min(5,t.length),o=["arc","circle","line","random","spiral","wave","diamond","heart","star","zigzag"],n=o[Math.floor(Math.random()*o.length)];for(let i=0;i<e;i++)setTimeout(()=>{const s=document.createElement("div");s.className="dinosaur",s.textContent=t[i];let r,a;switch(n){case"arc":const h=Math.min(400,window.innerWidth*.6);r=(window.innerWidth-h)/2+h/(e-1)*i,a=window.innerHeight/2+Math.sin(i/(e-1)*Math.PI)*50+(Math.random()-.5)*100;break;case"circle":const l=120,g=i/e*Math.PI*2;r=window.innerWidth/2+Math.cos(g)*l,a=window.innerHeight/2+Math.sin(g)*l;break;case"line":const p=Math.min(500,window.innerWidth*.8);r=(window.innerWidth-p)/2+p/(e-1)*i,a=window.innerHeight/2+(Math.random()-.5)*60;break;case"spiral":const f=i/e*Math.PI*3,w=40+i*20;r=window.innerWidth/2+Math.cos(f)*w,a=window.innerHeight/2+Math.sin(f)*w;break;case"wave":const y=Math.min(500,window.innerWidth*.8);r=(window.innerWidth-y)/2+y/(e-1)*i,a=window.innerHeight/2+Math.sin(i/(e-1)*Math.PI*2)*80;break;case"diamond":if(i<e/2)r=window.innerWidth/2+(i-e/4)*60,a=window.innerHeight/2-(e/4-Math.abs(i-e/4))*40;else{const S=i-Math.floor(e/2);r=window.innerWidth/2+(S-e/4)*60,a=window.innerHeight/2+(e/4-Math.abs(S-e/4))*40}break;case"heart":const m=i/(e-1)*Math.PI*2,D=60;r=window.innerWidth/2+D*(16*Math.sin(m)**3)/16,a=window.innerHeight/2-D*(13*Math.cos(m)-5*Math.cos(2*m)-2*Math.cos(3*m)-Math.cos(4*m))/16;break;case"star":const M=120,v=i/e*Math.PI*2,C=i%2===0?M:M*.5;r=window.innerWidth/2+Math.cos(v)*C,a=window.innerHeight/2+Math.sin(v)*C;break;case"zigzag":const b=Math.min(400,window.innerWidth*.6);r=(window.innerWidth-b)/2+b/(e-1)*i,a=window.innerHeight/2+(i%2===0?-60:60)+(Math.random()-.5)*30;break;default:r=window.innerWidth*.2+Math.random()*window.innerWidth*.6,a=window.innerHeight*.3+Math.random()*window.innerHeight*.4;break}s.style.left=r+"px",s.style.top=a+"px",s.style.fontSize="80px",s.style.zIndex="500",s.style.animation="dance 0.8s infinite alternate ease-in-out",document.body.appendChild(s),setTimeout(()=>{s.style.transition="opacity 1s ease-out, transform 1s ease-out",s.style.opacity="0",s.style.transform="scale(0.5)",setTimeout(()=>{s.remove()},1e3)},2e3)},i*150);console.log(`🎪 Dance party formation: ${n}! Each one is a surprise!`)}setupEventListeners(){document.addEventListener("mousemove",t=>{this.cursorDinosaur.style.left=`${t.clientX-30}px`,this.cursorDinosaur.style.top=`${t.clientY-30}px`,this.isMouseDown&&this.tryBrushStroke(t.clientX,t.clientY)}),document.addEventListener("mousedown",t=>{this.isMouseDown=!0,this.plantDinosaur(t.clientX,t.clientY)}),document.addEventListener("mouseup",()=>{this.isMouseDown=!1}),document.addEventListener("contextmenu",t=>{t.preventDefault(),this.randomDinosaurParty()}),document.addEventListener("mouseleave",()=>{this.cursorDinosaur.style.display="none"}),document.addEventListener("mouseenter",()=>{this.cursorDinosaur.style.display="block"}),document.addEventListener("keydown",t=>{switch(t.key.toLowerCase()){case"c":this.clearAllDinosaurs();break;case"r":this.randomDinosaurParty();break;case"n":this.evolveToNextSet();break;case"s":this.showCurrentSetInfo();break}})}plantDinosaur(t,e){const o=document.createElement("div");o.className="dinosaur planted-dinosaur",o.textContent=this.cursorDinosaur.textContent,o.style.left=`${t-30}px`,o.style.top=`${e-30}px`,o.setAttribute("data-planted","true"),o.setAttribute("data-creation-time",Date.now().toString());const n=Math.random()*20-10;o.style.transform=`rotate(${n}deg)`,document.body.appendChild(o),this.plantedDinosaurs.push(o),this.dancerCount++,this.updateCounter(),this.lastPlantTime=Date.now(),this.evolveBackground(),this.makeUIElementsDance(),this.plantingsInCurrentSet++,this.plantingsInCurrentSet>=this.plantingsBeforeSetChange?this.evolveToNextSet():this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.celebratePlanting(o)}celebratePlanting(t){t.style.transform+=" scale(1.5)",setTimeout(()=>{t.style.transform=t.style.transform.replace(" scale(1.5)","")},200)}clearAllDinosaurs(){this.plantedDinosaurs.forEach(e=>e.remove()),this.plantedDinosaurs=[],this.dancerCount=0,document.querySelectorAll('[data-tiny-dancer="true"]').forEach(e=>e.remove()),this.tinyDancerPile=[],this.setIndex=0,this.currentSet=this.setOrder[0],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.backgroundHue=200,this.evolveBackground(),this.updateCounter()}randomDinosaurParty(){for(let t=0;t<5;t++){const e=Math.random()*(window.innerWidth-60)+30,o=Math.random()*(window.innerHeight-60)+30;setTimeout(()=>{this.plantDinosaur(e,o)},t*100)}}updateCounter(){const t=document.getElementById("dancer-count");if(t){t.textContent=this.dancerCount.toString();const e=t.parentElement;e&&(e.classList.add("celebrating"),setTimeout(()=>{e.classList.remove("celebrating")},400))}}makeUIElementsDance(){if(this.dancerCount%15===0&&this.dancerCount>0){const t=document.querySelector(".title");t&&(t.classList.add("dancing"),setTimeout(()=>{t.classList.remove("dancing")},500))}}setupVoiceRecognition(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t){console.warn("🎤 Speech recognition not supported in this browser.");return}this.recognition=new t,this.recognition.continuous=!0,this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.lang="en-US";const e={"dance party":()=>{console.log("🎤 Voice command: Dance party demonstration!"),this.showCurrentSetInfo()},"stop listening":()=>{console.log("🎤 Voice command: Stop listening!"),this.stopListening()},"start listening":()=>{console.log("🎤 Voice command: Start listening!"),this.startListening()},clear:()=>{console.log("🎤 Voice command: Clear all!"),this.clearAllDinosaurs()},party:()=>{console.log("🎤 Voice command: Party time!"),this.randomDinosaurParty()},next:()=>{console.log("🎤 Voice command: Next set!"),this.evolveToNextSet()}};this.recognition.onresult=o=>{const n=o.results[o.results.length-1][0].transcript.toLowerCase().trim();console.log("🎤 Voice input:",n);for(const i in e)if(n.includes(i)){e[i]();break}},this.recognition.onend=()=>{this.isListening=!1,this.updateVoiceIndicator(!1),console.log("🎤 Voice recognition stopped."),setTimeout(()=>{this.isListening||this.startListening()},1e3)},this.recognition.onerror=o=>{if(console.warn("🎤 Voice recognition error:",o.error),this.updateVoiceIndicator(!1),o.error==="not-allowed"){console.warn("🎤 Microphone access denied. Voice commands disabled.");return}setTimeout(()=>{this.isListening||this.startListening()},2e3)},console.log("🎤 Setting up voice recognition..."),this.startListening()}startListening(){if(this.recognition&&!this.isListening)try{this.isListening=!0,this.recognition.start(),console.log('🎤 Voice recognition started! Try saying: "clear", "party", "next", or "dance party"'),this.updateVoiceIndicator(!0)}catch(t){console.warn("🎤 Failed to start voice recognition:",t),this.isListening=!1,this.updateVoiceIndicator(!1)}}stopListening(){this.recognition&&this.isListening&&(this.recognition.stop(),this.isListening=!1,console.log("🎤 Voice recognition stopped by user command."),this.updateVoiceIndicator(!1))}updateVoiceIndicator(t){const e=document.getElementById("voice-indicator");e&&(t?e.classList.add("listening"):e.classList.remove("listening"))}}document.addEventListener("DOMContentLoaded",()=>{new P,console.log("🎨 Welcome to Dinosaur Dance Evolution - Painting Edition!"),console.log("• Move your mouse to see the cursor creature"),console.log("• Left click to place a single dancing creature"),console.log("• Hold and drag to paint continuous brush strokes!"),console.log("• Right click for an instant party (5 random creatures)!"),console.log("• Watch the background subtly evolve with your artwork"),console.log('• Press "C" to clear all creatures and reset canvas'),console.log('• Press "R" for a random creature party!'),console.log('• Press "N" to evolve to the next thematic set'),console.log('• Press "S" to see current set info'),console.log("• Sets auto-evolve organically (6-12 plantings) for natural surprises!")});
