var g=Object.defineProperty;var f=(c,t,n)=>t in c?g(c,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[t]=n;var r=(c,t,n)=>(f(c,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();class y{constructor(){r(this,"cursorDinosaur");r(this,"plantedDinosaurs",[]);r(this,"tinyDancerPile",[]);r(this,"isMouseDown",!1);r(this,"lastPlantTime",0);r(this,"brushDelay",100);r(this,"backgroundHue",200);r(this,"emojiSets",{prehistoric:["🦕","🦴","🐊","🐲","🦖","🐉"],reptiles:["🦎","🐍","🐢","🐊","🐸","🦕"],insects:["🦋","🐝","🐞","🦗","🕷️","🦂","🐛","🐜","🦟"],mammals:["🐨","🐼","🦘","🦥","🦦","🦨","🦔","🐿️","🐹","🐭","🐰","🦊"],predators:["🐺","🐻","🐯","🦁","🦈","🐉","🦖"],ocean:["🐙","🦑","🦐","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐚"],magical:["⭐","🌟","✨","💫","🔥","❄️","☄️","🌈","🎪"]});r(this,"currentSet","prehistoric");r(this,"setOrder",["prehistoric","reptiles","insects","mammals","predators","ocean","magical"]);r(this,"setIndex",0);r(this,"plantingsInCurrentSet",0);r(this,"plantingsBeforeSetChange",8);r(this,"dancerCount",0);this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.createCursorDinosaur(),this.setupEventListeners(),this.updateCounter(),this.evolveBackground()}createCursorDinosaur(){this.cursorDinosaur=document.createElement("div"),this.cursorDinosaur.className="dinosaur cursor-dinosaur",this.cursorDinosaur.textContent=this.getRandomDinosaur(),document.body.appendChild(this.cursorDinosaur)}getRandomDinosaur(){const t=this.emojiSets[this.currentSet];return t[Math.floor(Math.random()*t.length)]}getRandomEvolutionCount(){return Math.floor(Math.random()*7)+6}tryBrushStroke(t,n){Date.now()-this.lastPlantTime>=this.brushDelay&&this.plantDinosaur(t,n)}evolveBackground(){this.dancerCount%10===0&&(this.backgroundHue=(this.backgroundHue+5)%360);const t=25+Math.floor(this.dancerCount/20),n=88-Math.floor(this.dancerCount/30);document.body.style.transition="background 2s ease",document.body.style.background=`linear-gradient(135deg, 
            hsl(${this.backgroundHue}, ${Math.min(t,40)}%, ${Math.max(n,75)}%), 
            hsl(${(this.backgroundHue+25)%360}, ${Math.min(t+8,45)}%, ${Math.max(n+3,78)}%))`}evolveToNextSet(){this.setIndex=(this.setIndex+1)%this.setOrder.length,this.currentSet=this.setOrder[this.setIndex],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.showSetChangeNotification()}showSetChangeNotification(){this.spawnCelebrationCreatures()}findNextPilePosition(){const t=window.innerWidth/2,n=Math.min(800,window.innerWidth*.9),s=window.innerHeight-35;if(this.tinyDancerPile.length===0)return{x:t+(Math.random()-.5)*150,y:s};const e=t+(Math.random()-.5)*n;let o=s,i=0;if(this.tinyDancerPile.forEach(a=>{const l=parseInt(a.style.left),h=parseInt(a.style.top),d=Math.abs(l-e);if(d<35&&(i++,i>=4&&d<18)){const u=h-18;u<o&&(o=u)}}),i<4){let a=e,l=i;for(let h=0;h<8;h++){const d=t+(Math.random()-.5)*n;let u=0;this.tinyDancerPile.forEach(m=>{const p=parseInt(m.style.left);Math.abs(p-d)<35&&u++}),u<l&&(a=d,l=u)}return{x:a,y:s}}return{x:e,y:o}}spawnCelebrationCreatures(){const t=this.emojiSets[this.currentSet],n=8;for(let s=0;s<n;s++)setTimeout(()=>{const e=document.createElement("div");e.className="dinosaur tiny-dancer",e.textContent=t[Math.floor(Math.random()*t.length)];const o=Math.random()*window.innerWidth,i=-50,a=this.findNextPilePosition();e.style.left=o+"px",e.style.top=i+"px",e.style.fontSize="24px",e.style.zIndex="50",e.setAttribute("data-tiny-dancer","true"),document.body.appendChild(e),setTimeout(()=>{e.style.transition="left 2.5s ease-out, top 2.5s ease-in",e.style.left=a.x+"px",e.style.top=a.y+"px"},100),setTimeout(()=>{e.classList.add("pile-dancer"),e.style.transition="none",this.tinyDancerPile.push(e)},2600)},s*300)}showCurrentSetInfo(){this.demonstrateCurrentSet()}demonstrateCurrentSet(){const t=this.emojiSets[this.currentSet],n=Math.min(5,t.length);for(let s=0;s<n;s++)setTimeout(()=>{const e=document.createElement("div");e.className="dinosaur",e.textContent=t[s];const o=Math.min(400,window.innerWidth*.6),a=(window.innerWidth-o)/2+o/(n-1)*s,l=window.innerHeight/2+Math.sin(s/(n-1)*Math.PI)*50;e.style.left=a+"px",e.style.top=l+"px",e.style.fontSize="80px",e.style.zIndex="500",e.style.animation="dance 0.8s infinite alternate ease-in-out",document.body.appendChild(e),setTimeout(()=>{e.style.transition="opacity 1s ease-out, transform 1s ease-out",e.style.opacity="0",e.style.transform="scale(0.5)",setTimeout(()=>{e.remove()},1e3)},2e3)},s*150)}setupEventListeners(){document.addEventListener("mousemove",t=>{this.cursorDinosaur.style.left=`${t.clientX-30}px`,this.cursorDinosaur.style.top=`${t.clientY-30}px`,this.isMouseDown&&this.tryBrushStroke(t.clientX,t.clientY)}),document.addEventListener("mousedown",t=>{this.isMouseDown=!0,this.plantDinosaur(t.clientX,t.clientY)}),document.addEventListener("mouseup",()=>{this.isMouseDown=!1}),document.addEventListener("contextmenu",t=>{t.preventDefault(),this.randomDinosaurParty()}),document.addEventListener("mouseleave",()=>{this.cursorDinosaur.style.display="none"}),document.addEventListener("mouseenter",()=>{this.cursorDinosaur.style.display="block"}),document.addEventListener("keydown",t=>{switch(t.key.toLowerCase()){case"c":this.clearAllDinosaurs();break;case"r":this.randomDinosaurParty();break;case"n":this.evolveToNextSet();break;case"s":this.showCurrentSetInfo();break}})}plantDinosaur(t,n){const s=document.createElement("div");s.className="dinosaur planted-dinosaur",s.textContent=this.cursorDinosaur.textContent,s.style.left=`${t-30}px`,s.style.top=`${n-30}px`,s.setAttribute("data-planted","true"),s.setAttribute("data-creation-time",Date.now().toString());const e=Math.random()*20-10;s.style.transform=`rotate(${e}deg)`,document.body.appendChild(s),this.plantedDinosaurs.push(s),this.dancerCount++,this.updateCounter(),this.lastPlantTime=Date.now(),this.evolveBackground(),this.makeUIElementsDance(),this.plantingsInCurrentSet++,this.plantingsInCurrentSet>=this.plantingsBeforeSetChange?this.evolveToNextSet():this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.celebratePlanting(s)}celebratePlanting(t){t.style.transform+=" scale(1.5)",setTimeout(()=>{t.style.transform=t.style.transform.replace(" scale(1.5)","")},200)}clearAllDinosaurs(){this.plantedDinosaurs.forEach(n=>n.remove()),this.plantedDinosaurs=[],this.dancerCount=0,document.querySelectorAll('[data-tiny-dancer="true"]').forEach(n=>n.remove()),this.tinyDancerPile=[],this.setIndex=0,this.currentSet=this.setOrder[0],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.backgroundHue=200,this.evolveBackground(),this.updateCounter()}randomDinosaurParty(){for(let t=0;t<5;t++){const n=Math.random()*(window.innerWidth-60)+30,s=Math.random()*(window.innerHeight-60)+30;setTimeout(()=>{this.plantDinosaur(n,s)},t*100)}}updateCounter(){const t=document.getElementById("dancer-count");if(t){t.textContent=this.dancerCount.toString();const n=t.parentElement;n&&(n.classList.add("celebrating"),setTimeout(()=>{n.classList.remove("celebrating")},400))}}makeUIElementsDance(){if(this.dancerCount%15===0&&this.dancerCount>0){const t=document.querySelector(".title");t&&(t.classList.add("dancing"),setTimeout(()=>{t.classList.remove("dancing")},500))}}}document.addEventListener("DOMContentLoaded",()=>{new y,console.log("🎨 Welcome to Dinosaur Dance Evolution - Painting Edition!"),console.log("• Move your mouse to see the cursor creature"),console.log("• Left click to place a single dancing creature"),console.log("• Hold and drag to paint continuous brush strokes!"),console.log("• Right click for an instant party (5 random creatures)!"),console.log("• Watch the background subtly evolve with your artwork"),console.log('• Press "C" to clear all creatures and reset canvas'),console.log('• Press "R" for a random creature party!'),console.log('• Press "N" to evolve to the next thematic set'),console.log('• Press "S" to see current set info'),console.log("• Sets auto-evolve organically (6-12 plantings) for natural surprises!")});
