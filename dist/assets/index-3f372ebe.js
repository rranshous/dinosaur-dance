var P=Object.defineProperty;var L=(p,e,t)=>e in p?P(p,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[e]=t;var u=(p,e,t)=>(L(p,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();class H{constructor(){u(this,"cursorDinosaur");u(this,"plantedDinosaurs",[]);u(this,"tinyDancerPile",[]);u(this,"isMouseDown",!1);u(this,"lastPlantTime",0);u(this,"brushDelay",100);u(this,"backgroundHue",200);u(this,"emojiSets",{prehistoric:["🦕","🦴","🐊","🐲","🦖","🐉"],reptiles:["🦎","🐍","🐢","🐊","🐸","🦕"],insects:["🦋","🐝","🐞","🦗","🕷️","🦂","🐛","🐜","🦟"],mammals:["🐨","🐼","🦘","🦥","🦦","🦨","🦔","🐿️","🐹","🐭","🐰","🦊"],predators:["🐺","🐻","🐯","🦁","🦈","🐉","🦖"],ocean:["🐙","🦑","🦐","🦀","🐡","🐠","🐟","🐬","🐳","🐋","🦈","🐚"],magical:["⭐","🌟","✨","💫","🔥","❄️","☄️","🌈","🎪"]});u(this,"currentSet","prehistoric");u(this,"setOrder",["prehistoric","reptiles","insects","mammals","predators","ocean","magical"]);u(this,"setIndex",0);u(this,"plantingsInCurrentSet",0);u(this,"plantingsBeforeSetChange",8);u(this,"dancerCount",0);u(this,"recognition",null);u(this,"isListening",!1);this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.createCursorDinosaur(),this.setupEventListeners(),this.setupVoiceRecognition(),this.updateCounter(),this.evolveBackground()}createCursorDinosaur(){this.cursorDinosaur=document.createElement("div"),this.cursorDinosaur.className="dinosaur cursor-dinosaur",this.cursorDinosaur.textContent=this.getRandomDinosaur(),document.body.appendChild(this.cursorDinosaur)}getRandomDinosaur(){const e=this.emojiSets[this.currentSet];return e[Math.floor(Math.random()*e.length)]}getRandomEvolutionCount(){return Math.floor(Math.random()*7)+6}tryBrushStroke(e,t){Date.now()-this.lastPlantTime>=this.brushDelay&&this.plantDinosaur(e,t)}evolveBackground(){this.dancerCount%10===0&&(this.backgroundHue=(this.backgroundHue+5)%360);const e=25+Math.floor(this.dancerCount/20),t=88-Math.floor(this.dancerCount/30);document.body.style.transition="background 2s ease",document.body.style.background=`linear-gradient(135deg, 
            hsl(${this.backgroundHue}, ${Math.min(e,40)}%, ${Math.max(t,75)}%), 
            hsl(${(this.backgroundHue+25)%360}, ${Math.min(e+8,45)}%, ${Math.max(t+3,78)}%))`}evolveToNextSet(){this.setIndex=(this.setIndex+1)%this.setOrder.length,this.currentSet=this.setOrder[this.setIndex],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.showSetChangeNotification()}showSetChangeNotification(){this.spawnCelebrationCreatures()}findNextPilePosition(){const e=window.innerWidth/2,t=Math.min(800,window.innerWidth*.9),i=window.innerHeight-35;if(this.tinyDancerPile.length===0)return{x:e+(Math.random()-.5)*150,y:i};const n=e+(Math.random()-.5)*t;let o=i,r=0;if(this.tinyDancerPile.forEach(c=>{const s=parseInt(c.style.left),a=parseInt(c.style.top),l=Math.abs(s-n);if(l<35&&(r++,r>=4&&l<18)){const h=a-18;h<o&&(o=h)}}),r<4){let c=n,s=r;for(let a=0;a<8;a++){const l=e+(Math.random()-.5)*t;let h=0;this.tinyDancerPile.forEach(d=>{const m=parseInt(d.style.left);Math.abs(m-l)<35&&h++}),h<s&&(c=l,s=h)}return{x:c,y:i}}return{x:n,y:o}}spawnCelebrationCreatures(){const e=this.emojiSets[this.currentSet],t=8;for(let i=0;i<t;i++)setTimeout(()=>{const n=document.createElement("div");n.className="dinosaur tiny-dancer",n.textContent=e[Math.floor(Math.random()*e.length)];const o=Math.random()*window.innerWidth,r=-50,c=this.findNextPilePosition();n.style.left=o+"px",n.style.top=r+"px",n.style.fontSize="24px",n.style.zIndex="50",n.setAttribute("data-tiny-dancer","true"),document.body.appendChild(n),setTimeout(()=>{n.style.transition="left 2.5s ease-out, top 2.5s ease-in",n.style.left=c.x+"px",n.style.top=c.y+"px"},100),setTimeout(()=>{n.classList.add("pile-dancer"),n.style.transition="none",this.tinyDancerPile.push(n)},2600)},i*300)}showCurrentSetInfo(){this.demonstrateCurrentSet()}demonstrateCurrentSet(){const e=this.emojiSets[this.currentSet],t=Math.min(5,e.length),i=["arc","circle","line","random","spiral","wave","diamond","heart","star","zigzag"],n=i[Math.floor(Math.random()*i.length)];for(let o=0;o<t;o++)setTimeout(()=>{const r=document.createElement("div");r.className="dinosaur",r.textContent=e[o];let c,s;switch(n){case"arc":const a=Math.min(400,window.innerWidth*.6);c=(window.innerWidth-a)/2+a/(t-1)*o,s=window.innerHeight/2+Math.sin(o/(t-1)*Math.PI)*50+(Math.random()-.5)*100;break;case"circle":const h=120,d=o/t*Math.PI*2;c=window.innerWidth/2+Math.cos(d)*h,s=window.innerHeight/2+Math.sin(d)*h;break;case"line":const m=Math.min(500,window.innerWidth*.8);c=(window.innerWidth-m)/2+m/(t-1)*o,s=window.innerHeight/2+(Math.random()-.5)*60;break;case"spiral":const f=o/t*Math.PI*3,M=40+o*20;c=window.innerWidth/2+Math.cos(f)*M,s=window.innerHeight/2+Math.sin(f)*M;break;case"wave":const y=Math.min(500,window.innerWidth*.8);c=(window.innerWidth-y)/2+y/(t-1)*o,s=window.innerHeight/2+Math.sin(o/(t-1)*Math.PI*2)*80;break;case"diamond":if(o<t/2)c=window.innerWidth/2+(o-t/4)*60,s=window.innerHeight/2-(t/4-Math.abs(o-t/4))*40;else{const v=o-Math.floor(t/2);c=window.innerWidth/2+(v-t/4)*60,s=window.innerHeight/2+(t/4-Math.abs(v-t/4))*40}break;case"heart":const g=o/(t-1)*Math.PI*2,C=60;c=window.innerWidth/2+C*(16*Math.sin(g)**3)/16,s=window.innerHeight/2-C*(13*Math.cos(g)-5*Math.cos(2*g)-2*Math.cos(3*g)-Math.cos(4*g))/16;break;case"star":const D=120,b=o/t*Math.PI*2,S=o%2===0?D:D*.5;c=window.innerWidth/2+Math.cos(b)*S,s=window.innerHeight/2+Math.sin(b)*S;break;case"zigzag":const w=Math.min(400,window.innerWidth*.6);c=(window.innerWidth-w)/2+w/(t-1)*o,s=window.innerHeight/2+(o%2===0?-60:60)+(Math.random()-.5)*30;break;default:c=window.innerWidth*.2+Math.random()*window.innerWidth*.6,s=window.innerHeight*.3+Math.random()*window.innerHeight*.4;break}r.style.left=c+"px",r.style.top=s+"px",r.style.fontSize="80px",r.style.zIndex="500",r.style.animation="dance 0.8s infinite alternate ease-in-out",document.body.appendChild(r),r.setAttribute("data-dance-party","true"),this.plantedDinosaurs.push(r),this.dancerCount++,this.updateCounter()},o*150);console.log(`🎪 Dance party formation: ${n}! Each one is a surprise!`)}musicalDanceParty(e){const t=this.emojiSets[this.currentSet],i=Math.min(5,t.length),n=Math.min(i*e,15);console.log(`🎵🎪 MUSICAL DANCE PARTY! Intensity ${e}x = ${n} dancers!`);const o=["arc","circle","line","random","spiral","wave","diamond","heart","star","zigzag"],r=e>=4?["heart","star","spiral"]:e>=3?["diamond","heart","star","wave"]:o,c=r[Math.floor(Math.random()*r.length)];for(let s=0;s<n;s++)setTimeout(()=>{const a=document.createElement("div");a.className="dinosaur",a.textContent=t[s%t.length];let l,h;const d=Math.min(1+(n-i)*.1,2);switch(c){case"arc":const m=Math.min(400*d,window.innerWidth*.8);l=(window.innerWidth-m)/2+m/(n-1)*s,h=window.innerHeight/2+Math.sin(s/(n-1)*Math.PI)*50*d+(Math.random()-.5)*100;break;case"circle":const f=120*d,M=s/n*Math.PI*2;l=window.innerWidth/2+Math.cos(M)*f,h=window.innerHeight/2+Math.sin(M)*f;break;case"spiral":const y=s/n*Math.PI*4,I=40+s*(15*d);l=window.innerWidth/2+Math.cos(y)*I,h=window.innerHeight/2+Math.sin(y)*I;break;case"heart":const g=s/(n-1)*Math.PI*2,C=60*d;l=window.innerWidth/2+C*(16*Math.sin(g)**3)/16,h=window.innerHeight/2-C*(13*Math.cos(g)-5*Math.cos(2*g)-2*Math.cos(3*g)-Math.cos(4*g))/16;break;case"star":const D=120*d,b=s/n*Math.PI*2,S=s%2===0?D:D*.5;l=window.innerWidth/2+Math.cos(b)*S,h=window.innerHeight/2+Math.sin(b)*S;break;default:const w=Math.ceil(Math.sqrt(n)),k=s%w,v=Math.floor(s/w),x=80*d;l=window.innerWidth/2-(w-1)*x/2+k*x+(Math.random()-.5)*30,h=window.innerHeight/2-(Math.ceil(n/w)-1)*x/2+v*x+(Math.random()-.5)*30;break}a.style.left=l+"px",a.style.top=h+"px",a.style.fontSize=Math.max(60-n*2,40)+"px",a.style.zIndex="500",a.style.animation=`dance ${.4+Math.random()*.4}s infinite alternate ease-in-out`,document.body.appendChild(a),a.setAttribute("data-dance-party","true"),a.setAttribute("data-musical-intensity",e.toString()),this.plantedDinosaurs.push(a),this.dancerCount++,this.updateCounter()},s*Math.max(50,200-n*5))}setupEventListeners(){document.addEventListener("mousemove",e=>{this.cursorDinosaur.style.left=`${e.clientX-30}px`,this.cursorDinosaur.style.top=`${e.clientY-30}px`,this.isMouseDown&&this.tryBrushStroke(e.clientX,e.clientY)}),document.addEventListener("mousedown",e=>{this.isMouseDown=!0,this.plantDinosaur(e.clientX,e.clientY)}),document.addEventListener("mouseup",()=>{this.isMouseDown=!1}),document.addEventListener("contextmenu",e=>{e.preventDefault(),this.randomDinosaurParty()}),document.addEventListener("mouseleave",()=>{this.cursorDinosaur.style.display="none"}),document.addEventListener("mouseenter",()=>{this.cursorDinosaur.style.display="block"})}plantDinosaur(e,t){const i=document.createElement("div");i.className="dinosaur planted-dinosaur",i.textContent=this.cursorDinosaur.textContent,i.style.left=`${e-30}px`,i.style.top=`${t-30}px`,i.setAttribute("data-planted","true"),i.setAttribute("data-creation-time",Date.now().toString());const n=Math.random()*20-10;i.style.transform=`rotate(${n}deg)`,document.body.appendChild(i),this.plantedDinosaurs.push(i),this.dancerCount++,this.updateCounter(),this.lastPlantTime=Date.now(),this.evolveBackground(),this.makeUIElementsDance(),this.plantingsInCurrentSet++,this.plantingsInCurrentSet>=this.plantingsBeforeSetChange?this.evolveToNextSet():this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.celebratePlanting(i)}celebratePlanting(e){e.style.transform+=" scale(1.5)",setTimeout(()=>{e.style.transform=e.style.transform.replace(" scale(1.5)","")},200)}clearAllDinosaurs(){this.plantedDinosaurs.forEach(t=>t.remove()),this.plantedDinosaurs=[],this.dancerCount=0,document.querySelectorAll('[data-tiny-dancer="true"]').forEach(t=>t.remove()),this.tinyDancerPile=[],this.setIndex=0,this.currentSet=this.setOrder[0],this.plantingsInCurrentSet=0,this.plantingsBeforeSetChange=this.getRandomEvolutionCount(),this.cursorDinosaur.textContent=this.getRandomDinosaur(),this.backgroundHue=200,this.evolveBackground(),this.updateCounter()}randomDinosaurParty(){for(let e=0;e<5;e++){const t=Math.random()*(window.innerWidth-60)+30,i=Math.random()*(window.innerHeight-60)+30;setTimeout(()=>{this.plantDinosaur(t,i)},e*100)}}updateCounter(){const e=document.getElementById("dancer-count");if(e){e.textContent=this.dancerCount.toString();const t=e.parentElement;t&&(t.classList.add("celebrating"),setTimeout(()=>{t.classList.remove("celebrating")},400))}}makeUIElementsDance(){if(this.dancerCount%15===0&&this.dancerCount>0){const e=document.querySelector(".title");e&&(e.classList.add("dancing"),setTimeout(()=>{e.classList.remove("dancing")},500))}}setupVoiceRecognition(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){console.warn("🎤 Speech recognition not supported in this browser.");return}this.recognition=new e,this.recognition.continuous=!0,this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.lang="en-US";const t={"clear dance floor":()=>{console.log("🎤 Voice command: Clearing dance floor!"),this.clearDanceFloor()},"dance party":()=>{console.log("🎤 Voice command: Dance party demonstration!"),this.showCurrentSetInfo()},"restart the party":()=>{console.log("🎤 Voice command: Restarting the party!"),this.clearAllDinosaurs()}};this.recognition.onresult=i=>{const n=i.results[i.results.length-1][0].transcript.toLowerCase().trim(),o=n.replace(/\b(the|a|an|please|can|you|could|would)\b/g,"").replace(/\s+/g," ").trim();console.log("🎤 Voice input:",n,"-> cleaned:",o);const r=(n.match(/dance/g)||[]).length,c=(n.match(/party/g)||[]).length;if(r>=2&&c>=1){const a=Math.min(r,5);console.log(`🎤 🎵 MUSICAL INTENSITY DETECTED! ${r} dances = ${a}x party!`),this.musicalDanceParty(a);return}const s=Object.keys(t).sort((a,l)=>l.length-a.length);for(const a of s)if(o===a||o.endsWith(a)){t[a]();return}for(const a of s)if(n===a||n.endsWith(a)){t[a]();return}for(const a of s)if(o.includes(a)||n.includes(a)){t[a]();return}},this.recognition.onend=()=>{this.isListening=!1,this.updateVoiceIndicator(!1),console.log("🎤 Voice recognition stopped."),setTimeout(()=>{this.isListening||this.startListening()},1e3)},this.recognition.onerror=i=>{if(console.warn("🎤 Voice recognition error:",i.error),this.updateVoiceIndicator(!1),i.error==="not-allowed"){console.warn("🎤 Microphone access denied. Voice commands disabled.");return}setTimeout(()=>{this.isListening||this.startListening()},2e3)},console.log("🎤 Setting up voice recognition..."),this.startListening()}startListening(){if(this.recognition&&!this.isListening)try{this.isListening=!0,this.recognition.start(),console.log('🎤 Voice recognition started! Try singing: "dance party", "clear dance floor", or "restart the party"'),this.updateVoiceIndicator(!0)}catch(e){console.warn("🎤 Failed to start voice recognition:",e),this.isListening=!1,this.updateVoiceIndicator(!1)}}updateVoiceIndicator(e){const t=document.getElementById("voice-indicator");t&&(e?t.classList.add("listening"):t.classList.remove("listening"))}clearDanceFloor(){const e=this.plantedDinosaurs.slice(),t=50,i=60,n=Math.min(window.innerWidth,window.innerHeight)*.3;let o=0;e.forEach(r=>{const c=parseInt(r.style.left),s=parseInt(r.style.top),a=window.innerWidth/2,l=window.innerHeight/2;if(Math.sqrt(Math.pow(c-a,2)+Math.pow(s-l,2))<n){let d,m;switch(Math.floor(Math.random()*4)){case 0:d=t+Math.random()*(window.innerWidth-2*t-i),m=Math.random()*t;break;case 1:d=window.innerWidth-t-i+Math.random()*(t/2),m=t+Math.random()*(window.innerHeight-2*t-i);break;case 2:d=t+Math.random()*(window.innerWidth-2*t-i),m=window.innerHeight-t-i+Math.random()*(t/2);break;case 3:d=Math.random()*t,m=t+Math.random()*(window.innerHeight-2*t-i);break;default:d=c,m=s}r.style.transition="left 1.5s ease-out, top 1.5s ease-out",r.style.left=d+"px",r.style.top=m+"px",setTimeout(()=>{r.style.transition=""},1500),o++}}),console.log(`🎪 Cleared the dance floor! Moved ${o} dancers to the edges to make room for a solo performance!`)}}document.addEventListener("DOMContentLoaded",()=>{new H,console.log("🎨 Welcome to Dinosaur Dance Evolution - Voice-Controlled Painting Edition!"),console.log("• Move your mouse to see the cursor creature"),console.log("• Left click to place a single dancing creature"),console.log("• Hold and drag to paint continuous brush strokes!"),console.log("• Right click for an instant party (5 random creatures)!"),console.log("• Watch the background subtly evolve with your artwork"),console.log("🎤 VOICE COMMANDS: Sing naturally to control your art!"),console.log('  🎵 "dance party" - Creates a formation demonstration'),console.log('  🎵 "clear dance floor" - Moves dancers to edges for solo space'),console.log('  🎵 "restart the party" - Clears everything for a fresh canvas'),console.log("• Sets auto-evolve organically (6-12 plantings) for natural surprises!")});
